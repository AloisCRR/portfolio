---
import { Image } from "astro:assets";
import type { Resume } from "../types/directus";

interface Props {
  class?: string;
  resume: Resume | null;
}

const { class: className = "", resume } = Astro.props;

const name = resume?.name || "Alois Carrera";
const title = resume?.title || "Software Engineer";
const summary =
  resume?.summary ||
  "Solutions Architect and Systems Engineer specialized in systems integration, API development, and digital transformation projects.";
const location = resume?.location || "Panam√°, Panama";
---

<section class={`${className}`}>
  <div class="grid md:grid-cols-2 gap-12 items-center">
    <div>
      <div class="space-y-6">
        <div>
          <h1 class="text-4xl md:text-5xl font-bold tracking-tight">
            {name}
          </h1>
          <h2
            class="text-xl md:text-2xl text-blue-600 dark:text-blue-400 font-medium mt-2"
          >
            {title}
          </h2>
          <p class="text-slate-700 dark:text-slate-300 mt-2">{location}</p>
        </div>

        <p class="text-slate-700 dark:text-slate-300 text-lg leading-relaxed">
          {summary}
        </p>

        <div class="flex flex-wrap gap-4">
          {
            resume?.links?.map((link) => (
              <a
                href={link.link}
                class="inline-flex items-center gap-3 px-4 py-2 bg-slate-800 dark:bg-slate-700 text-white rounded-md hover:bg-slate-700 dark:hover:bg-slate-600 transition-colors"
                target="_blank"
                rel="noopener noreferrer"
              >
                {link.icon && (
                  <Image
                    src={link.icon}
                    alt={`${link.name}-icon`}
                    width="20"
                    height="20"
                  />
                )}
                {link.name}
              </a>
            ))
          }
        </div>
      </div>
    </div>

    <div class="rounded-lg flex justify-end">
      {
        resume?.profile_image ? (
          <Image
            src={resume.profile_image}
            alt={name}
            class="object-cover"
            loading="eager"
            width="500"
            height="500"
          />
        ) : (
          <div class="w-full h-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center">
            <span class="text-5xl text-white font-bold">{name.charAt(0)}</span>
          </div>
        )
      }
    </div>
  </div>
</section>
